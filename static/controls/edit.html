<div xTemplate='database'>

<div xDataName=bases xSocket='/base.json'></div>

<div xLoop=bases xKey=k xVal=v>
<div xCast=data_base xSet='base=bases.#[k],baseid=#k'></div>
</div>

<div xTemplate='data_base'>
<div xLoop=base.tables xKey=k xVal=v>
<div xCast=table xSet='table=bases.#[baseid].tables.#[k],tableid=#k'></div>
</div>
</div>

<div xTemplate='table'>

<div xDataname=tables.#table xSocket='/ed.json?base=#[base]&table=#[table]&start=0&count=100'></div>

<div xCast='tablerows'></div>
<div xCmd='appendTable("#baseid", "#tableid")'>New row</div>

</div>

<div xTemplate='editrow'>

</div>

<div xTemplate='tablerows'>
<div xWatch=tables.#[table] xTest='"#[tables.#[table]]"' xLoop=tables.#table xKey=k xVal=v>
<div class=fl xCast=tablerow xSet='table=#table,row=#k'></div><div class=fl xCmd='removeTableRow("#base", "#table", "#k")'></div>
<div class=cl></div>
</div> 
</div>

<div xTemplate='tablerow'>


</div>

</div>

<form xForm=bases xWatch=net.scan xRoot='net.scan' xMethod=scannerOpenPage()>
</div>

<script language=javascript>

function editTableRow(base,table,rowid)
{
}
function removeTableRow(base,table,rowid)
{
}

function tableUpdate()
{
}
function tableAppend()
{
}
function tableRemove()
{
}
function startTable(name)
{
    socketRegister(name + "_update", tableUpdate);
    socketRegister(name + "_append", tableAppend);
    socketRegister(name + "_remove", tableRemove);
}

</script>
